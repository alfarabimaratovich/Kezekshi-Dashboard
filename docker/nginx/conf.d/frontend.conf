# HTTP -> HTTPS редирект
server {
    listen 80;
    server_name cabinet.kezekshi.kz;  # ЗАМЕНИ на свой домен

    return 301 https://$host$request_uri;
}

# Основной HTTPS сервер
server {
    listen 443 ssl;
    http2 on;
    server_name cabinet.kezekshi.kz;  # ЗАМЕНИ на свой домен

    # SSL сертификаты
    ssl_certificate     /etc/nginx/certs/fullchain.pem;
    ssl_certificate_key /etc/nginx/certs/private.key;

    # Можно добавить базовые настройки безопасности
    ssl_session_timeout 1d;
    ssl_session_cache shared:SSL:10m;
    ssl_session_tickets off;

    root /usr/share/nginx/html;
    index index.html;

    # SPA-режим, все неизвестные роуты отдаем на index.html
    location / {
        try_files $uri $uri/ /index.html;
    }
}
